[gd_scene load_steps=17 format=3 uid="uid://bwid2mwtukslq"]

[ext_resource type="Texture2D" uid="uid://bnkshmj5fmynw" path="res://light_path.png" id="1_e688o"]
[ext_resource type="Script" uid="uid://is7yvnfi002n" path="res://Scenes/main_3d.gd" id="1_idrat"]
[ext_resource type="Script" uid="uid://c7t6ujtiquk82" path="res://Scripts/player3d.gd" id="1_nnj57"]
[ext_resource type="Script" uid="uid://bomtf6r3iodrs" path="res://l.gd" id="2_7p81r"]
[ext_resource type="PackedScene" uid="uid://cfx0dwkmulm7a" path="res://Scenes/enemy_model.tscn" id="2_aftg3"]
[ext_resource type="PackedScene" uid="uid://cjy5k0ppmnbq8" path="res://Scenes/enemy3.tscn" id="4_idrat"]
[ext_resource type="Texture2D" uid="uid://dw23006j0q24a" path="res://bar.tres" id="8_3osc8"]
[ext_resource type="PackedScene" uid="uid://div3mfnjrjog2" path="res://Scenes/wall.tscn" id="8_urbwf"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_kjbku"]
radius = 0.33984375
height = 2.0140147

[sub_resource type="SphereMesh" id="SphereMesh_nnj57"]
radius = 0.2
height = 0.4

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_7p81r"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_nh568"]
albedo_color = Color(1, 0, 0, 1)

[sub_resource type="Environment" id="Environment_nnj57"]
background_energy_multiplier = 0.0
fog_enabled = true
fog_light_color = Color(0.29307458, 0.3203526, 0.362795, 1)

[sub_resource type="NavigationMesh" id="NavigationMesh_e688o"]
vertices = PackedVector3Array(-33.818718, 0.35258543, -1.068718, -8.818718, 0.35258543, -1.068718, -8.818718, 0.35258543, -2.068718, -9.068718, 0.35258543, -33.818718, -33.818718, 0.35258543, -33.818718, -4.068718, 0.35258543, -2.568718, -3.818718, 0.35258543, -1.818718, -1.318718, 0.35258543, -1.818718, -1.068718, 0.35258543, -3.318718, -8.568718, 0.35258543, -2.568718, 0.93128204, 0.35258543, -33.818718, 0.93128204, 0.35258543, -3.318718, 3.681282, 0.35258543, -3.318718, 3.681282, 0.35258543, -33.818718, 5.681282, 0.35258543, -3.318718, 5.931282, 0.35258543, -2.318718, 33.931282, 0.35258543, -2.318718, 33.931282, 0.35258543, -33.818718, 5.681282, 0.35258543, -1.068718, 4.181282, 0.35258543, -1.068718, 4.431282, 0.35258543, 2.681282, 5.931282, 0.35258543, 2.931282, 5.931282, 0.35258543, 4.931282, 33.931282, 0.35258543, 4.931282, -1.068718, 0.35258543, -1.068718, -3.818718, 0.35258543, -0.06871796, 2.931282, 0.35258543, 2.931282, -4.318718, 0.35258543, 0.18128204, -4.068718, 0.35258543, 5.431282, -1.068718, 0.35258543, 5.431282, -0.81871796, 0.35258543, 6.931282, 2.931282, 0.35258543, 6.931282, -7.818718, 2.6025853, -1.568718, -7.818718, 2.6025853, -0.81871796, -4.818718, 2.6025853, -0.81871796, -4.818718, 2.6025853, -1.568718, -4.568718, 0.35258543, 5.681282, -8.568718, 0.35258543, 0.18128204, -4.568718, 0.35258543, 8.181282, -33.818718, 0.35258543, 33.931282, -4.068718, 0.35258543, 33.931282, -4.068718, 0.35258543, 8.431282, 3.931282, 5.1025853, 3.681282, 3.931282, 5.1025853, 9.431282, 4.931282, 5.1025853, 9.431282, 4.931282, 5.1025853, 3.681282, 4.181282, 0.35258543, 3.931282, 4.181282, 0.35258543, 9.181282, 4.681282, 0.35258543, 9.181282, 4.681282, 0.35258543, 3.931282, 5.931282, 0.35258543, 8.181282, 33.931282, 0.35258543, 8.181282, -3.568718, 5.8525853, 6.431282, -3.568718, 5.8525853, 7.431282, -1.818718, 5.8525853, 7.431282, -1.818718, 5.8525853, 6.431282, -3.318718, 0.35258543, 6.681282, -3.318718, 0.35258543, 7.181282, -2.068718, 0.35258543, 7.181282, -2.068718, 0.35258543, 6.681282, -1.068718, 0.35258543, 8.431282, 2.931282, 0.35258543, 10.181282, 4.431282, 0.35258543, 33.931282, 4.431282, 0.35258543, 10.431282, 5.931282, 0.35258543, 10.181282, 33.931282, 0.35258543, 33.931282)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(3, 0, 4), PackedInt32Array(6, 5, 7), PackedInt32Array(7, 5, 8), PackedInt32Array(3, 9, 2), PackedInt32Array(5, 9, 8), PackedInt32Array(8, 9, 3), PackedInt32Array(8, 3, 10), PackedInt32Array(10, 11, 8), PackedInt32Array(10, 13, 11), PackedInt32Array(11, 13, 12), PackedInt32Array(15, 14, 16), PackedInt32Array(16, 14, 17), PackedInt32Array(17, 14, 13), PackedInt32Array(14, 12, 13), PackedInt32Array(19, 18, 20), PackedInt32Array(20, 18, 21), PackedInt32Array(23, 22, 21), PackedInt32Array(18, 15, 21), PackedInt32Array(21, 15, 16), PackedInt32Array(21, 16, 23), PackedInt32Array(7, 24, 6), PackedInt32Array(6, 24, 25), PackedInt32Array(28, 27, 29), PackedInt32Array(29, 27, 24), PackedInt32Array(29, 24, 26), PackedInt32Array(26, 24, 19), PackedInt32Array(27, 25, 24), PackedInt32Array(19, 20, 26), PackedInt32Array(30, 29, 31), PackedInt32Array(31, 29, 26), PackedInt32Array(35, 34, 32), PackedInt32Array(32, 34, 33), PackedInt32Array(28, 36, 27), PackedInt32Array(27, 36, 37), PackedInt32Array(37, 38, 0), PackedInt32Array(0, 38, 40), PackedInt32Array(0, 40, 39), PackedInt32Array(37, 36, 38), PackedInt32Array(0, 1, 37), PackedInt32Array(40, 38, 41), PackedInt32Array(45, 44, 42), PackedInt32Array(42, 44, 43), PackedInt32Array(49, 48, 46), PackedInt32Array(46, 48, 47), PackedInt32Array(22, 23, 50), PackedInt32Array(50, 23, 51), PackedInt32Array(55, 54, 52), PackedInt32Array(52, 54, 53), PackedInt32Array(59, 58, 56), PackedInt32Array(56, 58, 57), PackedInt32Array(30, 31, 60), PackedInt32Array(60, 31, 61), PackedInt32Array(61, 63, 62), PackedInt32Array(60, 61, 41), PackedInt32Array(41, 61, 40), PackedInt32Array(40, 61, 62), PackedInt32Array(63, 64, 62), PackedInt32Array(62, 64, 65), PackedInt32Array(65, 64, 51), PackedInt32Array(64, 50, 51)]

[sub_resource type="PlaneMesh" id="PlaneMesh_e688o"]

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_nnj57"]

[node name="Main3d" type="Node3D"]
script = ExtResource("1_idrat")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="HBoxContainer" type="HBoxContainer" parent="CanvasLayer"]
anchors_preset = 10
anchor_right = 1.0
grow_horizontal = 2

[node name="Control" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 0

[node name="HP" type="TextureProgressBar" parent="CanvasLayer/Control"]
layout_mode = 0
offset_left = -176.0
offset_top = 177.0
offset_right = 324.0
offset_bottom = 327.0
rotation = -0.7853982
max_value = 1.0
step = 0.01
value = 1.0
fill_mode = 2
texture_progress = ExtResource("8_3osc8")
tint_progress = Color(0.48000002, 1, 0.5926667, 1)

[node name="Control2" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 0
offset_left = 1201.0
offset_top = -1.0
offset_right = 1201.0
offset_bottom = -1.0

[node name="Energy" type="TextureProgressBar" parent="CanvasLayer/Control2"]
layout_mode = 0
offset_left = -160.0
offset_top = -158.0
offset_right = 340.0
offset_bottom = -8.0
rotation = 0.7853982
max_value = 1.0
step = 0.01
value = 1.0
fill_mode = 2
texture_progress = ExtResource("8_3osc8")
tint_progress = Color(0.43, 0.981, 1, 1)

[node name="SpotLight3D" type="SpotLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.8660254, 0.5, 0, -0.5, 0.8660254, 1.3931885, 3.822815, 4.747925)
visible = false
light_color = Color(1, 0, 0, 1)
light_projector = ExtResource("1_e688o")
shadow_enabled = true
spot_range = 10.457

[node name="OmniLight3D2" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0, 1.3178711)
visible = false
light_color = Color(1, 0, 0, 1)
light_projector = ExtResource("1_e688o")
shadow_enabled = true
omni_range = 14.345348
omni_shadow_mode = 0
script = ExtResource("2_7p81r")

[node name="Enemy" parent="." instance=ExtResource("4_idrat")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.9088135, 0, 0.9156494)

[node name="Player" type="CharacterBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.31225586, 0, 0.23129272)
axis_lock_angular_x = true
axis_lock_angular_z = true
script = ExtResource("1_nnj57")
max_health = 500.0
metadata/_edit_group_ = true

[node name="Root" parent="Player" instance=ExtResource("2_aftg3")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.99107456, 0)
shape = SubResource("CapsuleShape3D_kjbku")

[node name="Camera3D" type="Camera3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 0.49999997, 0.86602545, 0, -0.86602545, 0.49999997, 0, 17.45824, 9.521374)
projection = 1
fov = 64.0
size = 11.001

[node name="Mouse" type="MeshInstance3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.009094, 0, 1.30896)
top_level = true
mesh = SubResource("SphereMesh_nnj57")
skeleton = NodePath("../..")
surface_material_override/0 = SubResource("StandardMaterial3D_7p81r")

[node name="shot" type="MeshInstance3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.6799316, 0, 1.1689453)
top_level = true
mesh = SubResource("SphereMesh_nnj57")
skeleton = NodePath("../..")
surface_material_override/0 = SubResource("StandardMaterial3D_nh568")

[node name="Flashlight" type="SpotLight3D" parent="Player"]
shadow_enabled = true
shadow_caster_mask = 4294967265
spot_range = 18.289
spot_attenuation = 2.08
spot_angle = 31.45
spot_angle_attenuation = 2.070532

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_nnj57")

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5.8918457, 0)
visible = false
light_color = Color(1, 0.946, 0.64, 1)
light_energy = 4.097
shadow_enabled = true
shadow_opacity = 0.41
shadow_blur = 5.861
omni_range = 20.706
omni_attenuation = 2.0
omni_shadow_mode = 0

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_e688o")

[node name="ground" type="MeshInstance3D" parent="NavigationRegion3D"]
transform = Transform3D(34.318718, 0, 0, 0, 34.318718, 0, 0, 0, 34.318718, 0, 0, 0)
mesh = SubResource("PlaneMesh_e688o")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/ground"]
collision_layer = 3

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/ground/StaticBody3D"]
shape = SubResource("WorldBoundaryShape3D_nnj57")

[node name="wall" parent="NavigationRegion3D" instance=ExtResource("8_urbwf")]
transform = Transform3D(6.143419, 0, 0, 0, 4.729888, 0, 0, 0, 1, 2.3312988, 1.2175294, -2.1846924)

[node name="wall2" parent="NavigationRegion3D" instance=ExtResource("8_urbwf")]
transform = Transform3D(2.6990047, 0, 0, 0, 6.446513, 0, 0, 0, 1.8338295, -2.6879187, 2.364944, 7.005353)

[node name="wall3" parent="NavigationRegion3D" instance=ExtResource("8_urbwf")]
transform = Transform3D(1.6293967, 0, 0, 0, 4.729888, 0, 0, 0, 6.451636, 4.4870567, 2.364944, 6.5950537)

[node name="wall4" parent="NavigationRegion3D" instance=ExtResource("8_urbwf")]
transform = Transform3D(3.636086, 0, 0, 0, 2.1466599, 0, 0, 0, 1.4965155, -6.3151875, 1.1350794, -1.1129293)

[node name="Enemy2" parent="." instance=ExtResource("4_idrat")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.7630932, 0.19656624, 10.712572)

[node name="Enemy3" parent="." instance=ExtResource("4_idrat")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.708141, 0.19656521, -7.6024694)

[node name="Enemy4" parent="." instance=ExtResource("4_idrat")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.521893, 0.19656521, -4.5185313)
