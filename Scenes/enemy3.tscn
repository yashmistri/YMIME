[gd_scene load_steps=4 format=3 uid="uid://cjy5k0ppmnbq8"]

[ext_resource type="Script" uid="uid://bdlpxi8lsg3kh" path="res://Scripts/enemy3d.gd" id="1_t205n"]
[ext_resource type="PackedScene" uid="uid://cfx0dwkmulm7a" path="res://Scenes/enemy_model.tscn" id="2_g2rsm"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_e688o"]
radius = 0.33984375
height = 2.0140147

[node name="Enemy" type="CharacterBody3D"]
script = ExtResource("1_t205n")
metadata/_edit_group_ = true

[node name="Root" parent="." instance=ExtResource("2_g2rsm")]

[node name="Physical Bone spine" parent="Root/robot/Armature/Skeleton3D/PhysicalBoneSimulator3D" index="0"]
transform = Transform3D(2.9832296, -0.017529484, 0.10346725, 0.103520036, 0.008765685, -2.9832664, 0.017215032, 2.9850106, 0.009368174, 0.007929601, -0.14978123, 0.498099)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.4296593e-05, -0.00088588824, 0.26425156)
body_offset = Transform3D(2.9850748, 3.7252903e-09, 1.8125138e-07, 1.780536e-07, -1.0030344e-06, -2.9850743, 3.7252903e-09, 2.985075, -9.639189e-07, 7.247925e-05, 0.7888105, 0.0026446972)

[node name="Physical Bone upperarm_R" parent="Root/robot/Armature/Skeleton3D/PhysicalBoneSimulator3D" index="3"]
transform = Transform3D(-1.721437, 0.42533818, -2.401336, -2.4009159, 0.21991627, 1.7600886, 0.42770305, 2.946421, 0.21528077, 1.9087415, 1.3205209, 0.51301885)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.1881493e-07, 6.6823844e-09, 0.2668183)
body_offset = Transform3D(2.9850748, -3.874302e-07, -7.450581e-09, -4.414469e-07, -4.61936e-07, -2.985074, 4.4703484e-07, 2.9850752, -5.2154064e-07, 9.536743e-07, 0.7964723, 1.1920929e-07)

[node name="Physical Bone forearm_R" parent="Root/robot/Armature/Skeleton3D/PhysicalBoneSimulator3D" index="4"]
transform = Transform3D(-1.7665237, 0.64409465, -2.3184493, -2.406196, -0.4930468, 1.696407, -0.016903188, 2.8727548, 0.81096685, 3.2106333, 0.36712503, 0.2243095)
body_offset = Transform3D(2.9850745, -8.644536e-06, -1.710141e-05, -1.7584302e-05, 6.198883e-06, -2.9850745, 8.556992e-06, 2.9850748, 6.3180923e-06, 0, 0.851279, 1.1920929e-07)

[node name="Physical Bone lowerleg_L" parent="Root/robot/Armature/Skeleton3D/PhysicalBoneSimulator3D" index="6"]
transform = Transform3D(-2.9723833, -0.25894308, -0.092512615, -0.082067505, -0.12312189, 2.9814053, -0.26244056, 2.9712727, 0.11547938, -0.47435886, -3.4407058, 0.4796065)
joint_offset = Transform3D(-4.3711168e-08, 0, 0.99999636, 0, 0.99999845, 0, -0.999995, 0, -4.371123e-08, -2.6793918e-05, -0.0002048267, 0.30591783)
body_offset = Transform3D(2.960376, -0.38273704, -0.018999308, 4.9592927e-08, 0.14799912, -2.981405, 0.3832082, 2.9567354, 0.14677411, 0.0058131516, 0.9120952, -0.044284925)

[node name="Physical Bone thigh_R" parent="Root/robot/Armature/Skeleton3D/PhysicalBoneSimulator3D" index="7"]
transform = Transform3D(-2.924526, 0.5895621, -0.101170436, -0.05197039, 0.25253323, 2.9739194, 0.59591776, 2.9153588, -0.23714654, 0.4940317, -1.752007, 0.45987502)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.2683412e-07, -1.2204209e-08, 0.25919518)
body_offset = Transform3D(2.9850755, -2.2053719e-06, -1.4901161e-07, -1.15484e-07, 1.4901161e-07, -2.9850764, 2.3245811e-06, 2.9850762, -8.940697e-08, 4.172325e-07, 0.7737174, 5.9604645e-08)

[node name="Physical Bone lowerleg_R" parent="Root/robot/Armature/Skeleton3D/PhysicalBoneSimulator3D" index="8"]
transform = Transform3D(-2.2656188, -1.9435657, 0.013977039, 0.014772093, 0.0042468435, 2.9850352, -1.9435596, 2.2656581, 0.0063947504, 0.51586086, -3.4905317, 0.51933056)
joint_offset = Transform3D(-4.3711168e-08, 0, 0.99999636, 0, 0.99999845, 0, -0.999995, 0, -4.371123e-08, 4.879781e-05, 1.4017802e-05, 0.3241893)
body_offset = Transform3D(1.8270652, 2.360292, 0.03908308, -2.6077032e-08, 0.049421847, -2.9846663, -2.3606155, 1.8268152, 0.030249212, -0.0127925575, 0.9675961, -0.009716883)

[node name="MeshInstance3D" parent="Root/FootTracker/Holder/LeftFootTrack/Tip" index="0"]
visible = false

[node name="MeshInstance3D" parent="Root/FootTracker/Holder/RightFootTrack/Tip" index="0"]
visible = false

[node name="Collision" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.0070074, 0)
shape = SubResource("CapsuleShape3D_e688o")

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="."]
target_desired_distance = 2.61

[node name="FollowDelay" type="Timer" parent="."]
wait_time = 0.3
one_shot = true

[node name="BurstDelay" type="Timer" parent="."]
one_shot = true

[node name="Flashlight" type="SpotLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.88726056, 0.46126863, 0, -0.46126863, 0.88726056, 0, 3.367784, 0)
light_energy = 2.149
shadow_enabled = true
shadow_caster_mask = 4294967265
spot_range = 18.289
spot_angle = 31.45
spot_angle_attenuation = 2.070532

[connection signal="has_fired" from="Root/RHBase/RightHandTarget/GunHolder/Gun" to="." method="_on_gun_has_fired"]
[connection signal="timeout" from="FollowDelay" to="." method="_on_follow_delay_timeout"]
[connection signal="timeout" from="BurstDelay" to="." method="_on_burst_delay_timeout"]

[editable path="Root"]
[editable path="Root/robot"]
