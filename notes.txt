TODO:
	week 10/19
	x fix sprites turning black where overlap wall
		x shadow casting on wall showing over player sprite
	x put normal maps on blocks and use only one light mask may fix sprites turning black
	x make humanoid in blender then port to godot and setup skeleton
		x setup ik 
	use procedural animation to animate walking
		x works with placeholder feet
		x make humanoid follow placeholder feet position
		x direction of foot movement should be in direction of movement not crossing middle
		make sure rotation of feet only happens in y
		characters have a stat that determines how much they lean forward or backward
		x redesign model to have root and pelvis and lower torso be independent
		x just trash track vector idea and just trigger foot move by timer?
		rotate pelvis to align with feet?
		show char shifting weight over each foot to reduce linear motion in animation
		make sure enemies only move in 8 directions?
		
	week 10/26
		use procedural animation to animate walking
			x mouse rotates upper torso some angle before rotating rest of body
			x character steps more often when turning
			show char shifting weight over each foot to reduce linear motion in animation
			x when moving sideways shift lead tracker foot forward?
				x make holder for both left and right tracker and rotate that
			should stride time and step tempo increase linearly with speed or some curve?
				balance stride time, step tempo, and stride length so that 
				feet dont drag
				steps look natural
			body leans in direction of movement
				make node at floor with child at pelvis height
				node tilts in direction of velocity
				root position and rotation is matched with child
			make lead tracker tip longer than other tip when strafing
			make heels lift up at very end of drag?
				animate?
			forget feet rotation until later!
		make gun system
			gun braced at shoulder with two spots for each hand IK target maybe change magnet pos?
			let mouse ray hit characters?
			gun points in horizontal direction of look
			shot is raycast and has a flash of light
				line that travels from gun to target
				puff of smoke?
		make enemy ai
			follow player
			strafe player
			wander around
			shoot
			keeps track of path traversed
				if clear line of sight to player, shoot, then retrace steps until out of sight of player
		make middle torso mesh as root and lower and upper torso both rotate freely
		
		make decorations in blender
		model guns and swords and characters
		model floors and walls
			marble pillars
		
		make demo level and take video and post to youtube
	week 11/2
		
		make demo level and take video and post to youtube
		allow rotate camera? no
		bug flashlight shadowcasts own gun
		make gun system
			x model gun in blender
			
			remember y is forward in blender
			x gun braced at shoulder with two spots for each hand IK target maybe change magnet pos?
			x limit up and down tilt of gun
			puff of smoke?
			x fire from tip
			only some guns use aim down accuracy
				pistols get laser
				charge weapons have hold charge until fire
				semi auto rifles hold down aim to improve accuracy
			aim down is on or off and slows down movement but raises accuracy
				greater slow  than just shooting
			x make node at center of torso and child rh target in front 
				x rotate node to face target
		model environment
			ground
			walls
			lights
			make sure all walls are behind walkable locations?
			make collision bigger than walls?
		model robot
			hydraulic limbs and torso etc
			cables?
			longer arms
		make enemy ai
			x follow player
			x limit rotation speed
				x slowly move target position
				x bug: robot moves backwards towards player before facing player
			strafe player
			wander around
				get random pos on navmesh every time it reaches destination?
				detect player with view cone or when hit
			shoot
				only if player is in direct line of sight
		
	week 11/9:
		enemy death effect:
			fade out?
			model dissappears from top to bottom while burning?
			tf2 energy weapon death effect?
			explode body parts?
			ragdoll?
			each in certain situations?
		multiple sizes of gun with different weights and movement slow down on shooting
	week ?
		lower torso and upper torso return to neutral relative to each other when walking?
		bonfire system for respawning and progress?
			small enemies always respawn
			big enemies dont respawn after kill
		loot system:
			walk over items to pick them up?
			press interact at enemy death location to pick up loot?
			enemies drop ammo and health
		make energy system:
			every active ability adds to total use rate
			if energy goes below threshold of exhaustion abilities have to wait for energy to replenish to threshold to use again
				rate of use abilities: sprint, flashlight, etc
		make enemy ai
			follow player
			strafe player
			wander around
			shoot
				sprint after shooting
			keeps track of path traversed
				if clear line of sight to player, shoot, then retrace steps until out of sight of player
		make gun system
			gun braced at shoulder with two spots for each hand IK target maybe change magnet pos?
			let mouse ray hit characters?
			gun points in horizontal direction of look
			shot is raycast and has a flash of light
				line that travels from gun to target
				puff of smoke?
		characters have a stat that determines how much they lean forward or backward?
		make path for feet to follow when moving that mimics natural foot movement
			or robotic foot movement
			or self-balancing robot movement
		2 jointed legs with no feet or claw feet
		proc anim for accessories
			springy antennae?
			floating light orb that orbits?
		how to calculate proper stride factors?
			set factors at 3 different speeds to be as natural as possible
			then try to fit a curve to each variable
		ragdolls
			no momentum on death? or take momentum from killing shot?
			limbs can be separated and be knocked away
		show char shifting weight over each foot to reduce linear motion in animation
			
			body leans in direction of movement
				make node at floor with child at pelvis height
				node tilts in direction of velocity
				root position and rotation is matched with child
			make lead tracker tip longer than other tip when strafing
			make heels lift up at very end of drag?
				animate?
		should stride time and step tempo increase linearly with speed or some curve?
				balance stride time, step tempo, and stride length so that 
				feet dont drag
				steps look natural
		proc anim for hands
				walking
				swinging sword
				shooting
				reload gun? 
		make sure rotation of feet only happens around y
		rotate pelvis to align with feet?
		
		x mouse rotates upper torso some angle before rotating rest of body
			x is buggy
	misc:
		fix gun staying while ragdoll
		make moving use momentum 
			too much momentum = fall over and ragdoll?
		how to have enemies navigate with inertia movement:
			movement direction is velocity reflected over next path direction?
		animations:
			how to move foot more robotically
			more stylized walking:
				default human like
				zombie
				stiff robotic
				all 4s?
			default is robot walk; self balancing robot
				arms lean to center of gravity or in direction of acceleration
		
		3d:
			pass weight painting of body parts in blender to godot and use shader to inflate in normal direction to inflate body parts
			make decorations in blender
				model guns and swords and characters
				model floors and walls
				marble pillars
				one mesh for char?
			make light that projects stripes texture to simulate multiple rectangle lights
			ghosts walk around and can be killed with energy weapon type
		3d:
			enemy variety: different sizes for body parts: head, legs, torso, arms
			stylized graphics: monochrome?
			heartbeat sensor
				uses energy at some rate
			use negative light with shadows to simulate aftermath of explosion?
			learn about specular texture
			keep models out of GitHub repo?
				make default/placeholder assets and commit those and load those if actual assets arent present
			use procedural animation to animate character walking and running:
				foot stays while body moves until certain distance then foot moves in direction of movement
				use IK system
				slowly blends to special running curves and parameters when running
			how to make models y sort with walls properly
				separate each char model into a separate sprite by cutting up the viewport or the sprite
					prob doesnt work nicely if models overlap
						design game so models dont overlap
						use AABB to get exact bounding box in 2d?
						use bounding box algo to use one sprite for overlapping models?
					use alpha mask and shaders to send pixels to a texture for each model
					make only one model visible at a time and capture before moving on to next model
				one camera per model, each model lives in a separate world with all lights copied
				cut out parts of walls and move them up in z to cover models behidn them
			
			steps v2:
				get camera viewport texture and convert to image
				get position of model in camera space
				put dot on model
				put box around each model use fill_rect()
				cut out box in image and send each to a sprite child of each character
				design game so no characters ever overlap
					less enemies? enemies stay away from each other?
				render models really small but same distance away and upsize them in 2d then they wont overlap
			
			steps
			in one frame:
				move camera in front of each model
				capture and send image to each models corresponding sprite
				seems updating camera 2+ times a frame is not feasible
			
			x current vp texture is 10k x 10k even though most is invisible
				make it size of 2d camera
				move 3d camera with 2d camera
				
		increase performance on laptops
		cheats system:
			toggle to enable cheats
			player invincible 'I'
			infinite abilties 'U'
			keyboard shortcuts to enable individual cheats
		enemies level up every 5 enemies defeated
			doesn't affect spawned enemies
			show enemy level next to hp
			enemy level scales stats
	character:
		have stats: health, damage, speed, level
	enemy:
		enemy screams and runs at player from offscreen
		turret with sweeping narrow red light cone
		floating heads with two independent moving eyes with lights attached
		enemies talk with speech synthesis, one level of comms is in game another is on radio which can only be listened to if picking a radio up or hacking comms
		enemy that gets woken if you stare at it so player has to walk backwards
	player:
		fire projectile
			damage each tile in a line from player to max range
				make a ray and get all the tiles it intersects
				then
				vfx: magical spikes 
			or trigger one tile to damage on a delay while a projectile is animated from character to target
			make sure target only gets damaged once per cast
		fire projectile and make big tile explosion on collision
		cast damaging area on tiles around cursor
			restrict range to radius r
		cast expanding rings that trigger damage tiles
	sounds:
		higher level enemies have better quality speech synthesis
	game:
		gunplay:
			accuracy system: shots have random spread
				perlin noise random with seed that resets every level similar to counterstrike?
				each gun has unique spread every run/level
				accuracy goes down while moving or while shooting
				aim button readies and focuses weapon over time, fire button shoots
			
		make everything but area around cursor blurry or hidden and show fake hallucinated enemies and real enemies appear as furniture etc
			A trap triggers this silently
		energy system
			recharges slowly but depletes quickly for abilities/attachments:
				flashlight, heartbeat sensor, running?, hacking and listening enemy comms
			passively reduces max energy
				show damage, healthbars, etc
				higher move speed
				more health
				larger non-blurry radius
				resistance to debuffs
				wider/stronger flashlight
			depletes in chunks to deploy devices etc:
				mines, 
				dash
		grid based ability/attachment slots?
		player moves using navigation system? maybe makes multiple elevations in levels possible
		have to balance character while moving or shooting or it falls over and takes time to get back up
		have places that player has to go to in a time limit
			show trail to place
				animate pulse going from player to goal
			place changes when player reaches and time limit decreases
		menu: start, gameover, pause
		UI: health, abilities
		status effects: attach a node to a character when a status effect is applied
			node has a timer for duration and a timer for the interval in which the status effect is triggered
			negtive: on fire, slowed, stun
			positive: blocking, fast, more dmg
			damage received while stunned is increased
				this increase goes down with time
				
				rewards fast and efficient attacks and combos
			
	visuals:
		every fifth bullet is visible as a tracer for auto weapons every bullet for slow weapons
		vertex snapping?
		getting grabbed and executed by enemy switches cam to first person?
		first person scope in for long range weapons
		gun models based on real world experimental guns and weapons
		hud has camera feed of player face in world
		higher difficulty reduces number of modules and replaces slots with coffee machine, tiktok, microwave with spinning doll, etc
			position of junk in inventory is randomized and locked before each level
		hide walls in front of player
			have each wall keep track of player position and go transparent as player approaches a certain point
			put something beneath walls when they dissapear?
			just scrap tile system? just place environment freehand?
			just scrap walls?
			proc gen whole env? isometric 3d perlin noise islands? with slope tiles?
				how to "sell" illusion of 3d: player elevation is increased when moving up slope
				just dont use slope tiles and change elevation abruptly
				change iso view to -60 deg?
		models; render static models and normals to png (and depth buffer?):
			enemy:
				floating monster head: skeleton, man, monster
				robot turret
				floating snake
			environment:
				statues of people
			ghost enemies that slowly approach player from behind and disappear for a moment when flashlight is shined on them. deep red color?
				
		animate:
			enemies breathing
			light size
			orb light gradient colors: shift all positions right and loop
		tiles:
			use terrain sets to automatically set correct directions for tiles
			make a unique tile and sprite for every part of wall?:
				lone block
				face right and face left while connected on either side
				corners north south east west
				t joints
			figure out how to have different elevations and stairs bridges etc
		lights:
			make algorithm to get blocks that would be lit by flashlight and light them individually?
		x multiple lights around player to make fuzzy shadows
		put normal maps on blocks then put directional light?
		make columns put lamp sprite high up and point light at bottom
		slow projectiles with red lights pulsing with brightness color and size
		level up text 
		explosion warps circle area:
			use white circle texture as input to shader warp pixel and then expand circle
		highlight tile below cursor
			highlight circle of tiles around cursor
		animate meteor falling to tiles on casting damage area spell
			small meteors travel from target tile to far away tiles on impact
		short fire animation for one cell
		spark attack vfx for one cell
		spikes
			particle system with multiple spike sprites growing 
		lightning animation for one cell or maybe area
		make vfx highlighting a center point 
			make circle then scale to isometric y = 0.5
		character take damage:
			red, black liquid splatter
			red, white flash
			damage numbers animated
			skull anim on elimination
			health bar
		character:
			walk
			point weapon in direction
			eyes face direction
			show back when facing up
			special symbols for xp levels
	2d:
			make shadows out of sprites using copy of sprite make black and set z level and skew
			put all static objects renders and normals in the same png spritesheet
			add more 2d lights to scene with corresponding 3d lights?
			add 3d blocks to 3d world where 2d walls are in order to block light correctly
			circle light makes all enemy types look like the same blob
			cone light faces cursor and fully illuminates enemies
			cast shadows on enemies and objects?
			light coming from above
			make chars occlude 2d lights
			use 3d proj sprite for making a shadow for each light. start with only players flashlight
			put normal maps on blocks; simplify occluder system to just one block type
			sparks fly in 2d when 3d weapons hit
	sounds:
	
	name ideas:
		obsolete obots
		tac-pickle
		tactical simulation of robot and alien combat
	make/download isometric 2d sprites:
		angle/dimensions? try 45 degrees
		tiled? yes
		convert from 3d models? no
		tiles:
			or maybe abstract style
			grass
			trees
			decorations
			tall walls 
			small walls or obstacles
			floor tiles

	Make a simple isometric game
		make characters shoot projectiles
		x give characters hitbox
		make characters 2d sprites all animation procedural or in game
		x figure out how to get mouse position in world space
			make animated crosshair in world on click
		what to do about walls in front of/below player/camera
		what is game about:
			constantly spawning enemies in arena
			goal is survive for as long as possible while enemies get stronger
			player gets stronger by eliminating enemies
Bugs:
	x prevent area damage from spawning on walls
	x area damage not showing above tiles north of some location
		make them children of tile
	x enemy hurtbox disabled after hitting player
Notes:
Ideas:
	level is 2d sprites but characters are 3d models. need separate lights for 2d and 3d and some way to set both positions correctly
	
